<!DOCTYPE html>
<html ng-app="rss" ng-controller="SettingsCtrl" data-ng-init="init()">
<head>
    <title>Widget Settings &bull; Wix</title>
    <link type="text/css" href="/wix-ui-lib/ui-lib.min.css" rel="stylesheet">
    <link type="text/css" href="/dist/rss-app.min.css" rel="stylesheet">

    <script src="http://sslstatic.wix.com/services/js-sdk/1.22.0/js/Wix.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular.min.js"></script>
    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.1.5/angular-resource.min.js"></script>
    <script src="/dist/rss-app.min.js"></script>
</head>
<body class="settings">

<header class="box">
    <div class="logo">
        <img width="86" src="/wix-ui-lib/images/wix_icon.png" alt="logo"/>
    </div>
    <div class="loggedOut" ng-hide="settings.connected">
        <p>This app lets you connect to any RSS feed you would like.</p>
        <div class="login-panel">
            <p class="create-account">Enter your your RSS URL</p><br>
            <input type="text" ng-model="settings.feedUrl" id="rssFeedUrl" placeholder="http://rss.cnn.com/rss/edition.rss"/>
            <button class="submit btn connect" ng-click="connect(true)">Connect Feed</button>
        </div>
    </div>
    <div class="loggedIn" ng-show="settings.connected">
        <p>You are now connected to <a id="feedLink" ng-href="{{settings.feedUrl}}" target="_blank" ng-bind="feed.title"></a>.<br/>
            <span class="feed-description" ng-bind="feed.description"></span><br/>
            <a class="disconnect-account" ng-click="connect(false)">Disconnect account</a></p>
    </div>
</header>

<!-- Settings box -->
<div wix-ctrl="Accordion">

    <div class="acc-pane">
        <h3>Settings</h3>
        <div class="acc-content">
            <p>Please insert number of feed entries you would like to be displayed</p>
            <ul class="list">
                <li>
                    <input ng-model="settings.numOfEntries" class="input-number" type="number" min="1" max="100" step="1" />
                </li>
            </ul>
        </div>
    </div>

    <!-- Color Pickers -->
    <div class="acc-pane">
        <h3>Color Settings: </h3>

        <div class="acc-content">
            <p>Set the  widget colors</p>
            <ul class="list">
                <li wix-label="Title text">
                    <div wix-param="titleColor" wix-ctrl="ColorPicker" wix-options="{startWithColor:'color-3'}"></div>
                </li>
                <li wix-label="Text">
                    <div wix-param="textColor" wix-ctrl="ColorPicker" wix-options="{startWithColor:'black/white'}"></div>
                </li>
                <li wix-label="Background">
                    <div wix-param="bgColor" wix-ctrl="ColorPickerWithOpacity" wix-options="{startWithColor:'white/black'}"></div>
                </li>
                <li wix-label="Feed background">
                    <div wix-param="bgFeedColor" wix-ctrl="ColorPickerWithOpacity" wix-options="{startWithColor:'white/black'}"></div>
                </li>
            </ul>
        </div>
    </div>
</div>

<!-- Wix UI -->
<script type="text/javascript" src="/wix-ui-lib/ui-lib.min.js"></script>

<script type="text/javascript">
    var settings = <%= @settings %>;
</script>

</body>
</html>
